

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>★★★ Three-Star Battery Data &#8212; ★★★★★ Battery Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'star-3/star-3-notebook';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="★★★★ Four-Star Battery Data" href="../star-4/star-4-notebook.html" />
    <link rel="prev" title="★★ 2-Star Battery Data" href="../star-2/star-2-notebook.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the course..."
         aria-label="Search the course..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">★★★★★ Battery Data</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../introduction/introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../discussion/discussion.html">
                        Discussion
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../quiz/quiz.html">
                        Quiz: Five-Star Battery Data
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../introduction/introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../discussion/discussion.html">
                        Discussion
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../quiz/quiz.html">
                        Quiz: Five-Star Battery Data
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the course..."
         aria-label="Search the course..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../introduction/introduction.html" class="nav-link">Introduction</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">★★★ Three-Star Battery Data</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="toctree-wrapper compound">
</div>
<section id="★★★-Three-Star-Battery-Data">
<h1>★★★ Three-Star Battery Data<a class="headerlink" href="#★★★-Three-Star-Battery-Data" title="Permalink to this heading">#</a></h1>
<p>This notebook demonstrates how to convert structured battery test data into a set of <strong>open, machine-readable formats</strong> that follow best practices for accessibility and interoperability. This corresponds to <strong>three stars</strong> in the Five-Star Battery Data framework.</p>
<hr class="docutils" />
<section id="What-does-three-star-mean?">
<h2>What does three-star mean?<a class="headerlink" href="#What-does-three-star-mean?" title="Permalink to this heading">#</a></h2>
<p>In the 5-Star Battery Data framework, 3-star data is:</p>
<ul class="simple">
<li><p>Provided in an <strong>open, non-proprietary file format</strong> (e.g., <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.json</span></code>, <code class="docutils literal notranslate"><span class="pre">.parquet</span></code>, <code class="docutils literal notranslate"><span class="pre">.hdf5</span></code>, <code class="docutils literal notranslate"><span class="pre">.txt</span></code>)</p></li>
<li><p><strong>Machine-readable</strong>, meaning it can be automatically parsed and processed by standard software tools</p></li>
<li><p><strong>Not locked behind proprietary formats</strong> (e.g., <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>, <code class="docutils literal notranslate"><span class="pre">.bin</span></code>, <code class="docutils literal notranslate"><span class="pre">.nda</span></code>) that require vendor-specific software</p></li>
</ul>
<p>Using open formats is a critical step toward making data reusable, durable, and easy to work with across tools and platforms.</p>
</section>
<hr class="docutils" />
<section id="Watch">
<h2>Watch<a class="headerlink" href="#Watch" title="Permalink to this heading">#</a></h2>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;"><iframe src="https://www.youtube.com/embed/giL9KwJi8BI" title="Star 3: Machine Readable" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div></section>
<hr class="docutils" />
<section id="Why-is-this-important?">
<h2>Why is this important?<a class="headerlink" href="#Why-is-this-important?" title="Permalink to this heading">#</a></h2>
<p>Battery test data is often stored in formats tied to specific vendors or applications. These formats are hard to parse, share, or archive. By saving your data in <strong>open and well-supported formats</strong>, you:</p>
<ul class="simple">
<li><p>Remove technical barriers to reuse</p></li>
<li><p>Future-proof your dataset</p></li>
<li><p>Enable smooth integration with analysis, modeling, and AI pipelines</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="What-is-an-open-data-format?">
<h2>What is an open data format?<a class="headerlink" href="#What-is-an-open-data-format?" title="Permalink to this heading">#</a></h2>
<p>An open format is a file format that is:</p>
<ul class="simple">
<li><p><strong>Publicly documented</strong> and widely supported</p></li>
<li><p><strong>Accessible by open-source and commercial tools</strong></p></li>
<li><p>Easy to parse using standard programming languages (Python, R, MATLAB, etc.)</p></li>
</ul>
<p>Examples of open formats commonly used in battery data: | Format | Type | Best For | |———–|————-|——————————————-| | <code class="docutils literal notranslate"><span class="pre">.csv</span></code> | Tabular | Simple time series, readable by humans | | <code class="docutils literal notranslate"><span class="pre">.json</span></code> | Hierarchical| Metadata, structured nested data | | <code class="docutils literal notranslate"><span class="pre">.parquet</span></code>| Tabular | Large datasets, compressed and efficient | | <code class="docutils literal notranslate"><span class="pre">.hdf5</span></code> | Hierarchical| Scientific arrays, high-performance access| | <code class="docutils literal notranslate"><span class="pre">.txt</span></code> | Unstructured| Raw logs or device
output |</p>
</section>
<hr class="docutils" />
<section id="What-we-will-do">
<h2>What we will do<a class="headerlink" href="#What-we-will-do" title="Permalink to this heading">#</a></h2>
<p>In this notebook, we assume you have already processed your raw data into a <strong>structured, BDF-compliant DataFrame</strong> in the previous step.</p>
<p>We will:</p>
<ol class="arabic simple">
<li><p><strong>Load</strong> the structured DataFrame from memory or file</p></li>
<li><p><strong>Serialize</strong> it into multiple open, machine-readable formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.json</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.parquet</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.hdf5</span></code></p></li>
</ul>
</li>
<li><p><strong>Compare</strong> the resulting file sizes</p></li>
<li><p><strong>Demonstrate</strong> how to re-load each format in Python</p></li>
</ol>
<p>This notebook gives you a clear and reproducible workflow for sharing your structured battery data in formats that are <strong>open, portable, and future-ready</strong>.</p>
</section>
<section id="1.-Read-the-raw-cycler-data">
<h2>1. Read the raw cycler data<a class="headerlink" href="#1.-Read-the-raw-cycler-data" title="Permalink to this heading">#</a></h2>
<p>We begin by reading the exported CSV file that contains the raw test data from the battery cycler. This file serves as the source for generating open, portable formats. It typically includes columns such as time, voltage, current, and temperature, depending on the cycler and configuration.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import pandas as pd
import os
import matplotlib.pyplot as plt
import pyarrow
import json
import time

# Load raw CSV data
file_name = &#39;structured_battery_data.bdf.csv&#39;
data = pd.read_csv(file_name)
data.head()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Test Time / s</th>
      <th>Current / A</th>
      <th>Voltage / V</th>
      <th>Unix Time / s</th>
      <th>Step Count / 1</th>
      <th>Temperature 1 / °C</th>
      <th>Temperature 2 / °C</th>
      <th>Temperature 3 / °C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.01</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>30.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.0</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>We can also visualize the data to verify the content and quality.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Plot Voltage, Current, and all Temperatures vs Total Time in one figure
time_h = data[&#39;Test Time / s&#39;] / 3600

plt.figure(figsize=(12, 8))

# Voltage
plt.subplot(3, 1, 1)
plt.plot(time_h, data[&#39;Voltage / V&#39;], label=&#39;Voltage / V&#39;, color=&#39;blue&#39;)
plt.ylabel(&#39;Voltage / V&#39;)
plt.title(&#39;Voltage vs Total Time&#39;)
plt.grid(True)

# Current
plt.subplot(3, 1, 2)
plt.plot(time_h, data[&#39;Current / A&#39;], label=&#39;Current / A&#39;, color=&#39;orange&#39;)
plt.ylabel(&#39;Current / A&#39;)
plt.title(&#39;Current vs Total Time&#39;)
plt.grid(True)

# Temperatures (1, 2, 3)
plt.subplot(3, 1, 3)
plt.plot(time_h, data[&#39;Temperature 1 / °C&#39;], label=&#39;Temperature 1 / °C&#39;, color=&#39;green&#39;)
plt.plot(time_h, data[&#39;Temperature 2 / °C&#39;], label=&#39;Temperature 2 / °C&#39;, color=&#39;red&#39;)
plt.plot(time_h, data[&#39;Temperature 3 / °C&#39;], label=&#39;Temperature 3 / °C&#39;, color=&#39;purple&#39;)
plt.xlabel(&#39;Total Time / h&#39;)
plt.ylabel(&#39;Temperature / °C&#39;)
plt.title(&#39;Temperatures vs Total Time&#39;)
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/star-3_star-3-notebook_4_0.png" src="../_images/star-3_star-3-notebook_4_0.png" />
</div>
</div>
</section>
<section id="2.-Serialize-the-data-into-multiple-open,-machine-readable-formats">
<h2>2. Serialize the data into multiple open, machine-readable formats<a class="headerlink" href="#2.-Serialize-the-data-into-multiple-open,-machine-readable-formats" title="Permalink to this heading">#</a></h2>
<p>After loading the raw data, we convert it into several widely used open formats: TXT, JSON, Parquet, and HDF5. Each format has different strengths in terms of size, readability, and performance. This step ensures the data can be shared and reused in diverse environments without relying on proprietary software.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Save as .txt (tab-separated)
txt_path = file_name.replace(&#39;.csv&#39;, &#39;.txt&#39;)
data.to_csv(txt_path, sep=&#39;\t&#39;, index=False)

# Save as .parquet
parquet_path = file_name.replace(&#39;.csv&#39;, &#39;.parquet&#39;)
data.to_parquet(parquet_path, index=False)

# Save as .hdf5
hdf5_path = file_name.replace(&#39;.csv&#39;, &#39;.h5&#39;)
data.to_hdf(hdf5_path, key=&#39;battery_data&#39;, mode=&#39;w&#39;)

# Save as .json
json_path = file_name.replace(&#39;.csv&#39;, &#39;.json&#39;)
json_dict = {col: data[col].tolist() for col in data.columns}
with open(json_path, &#39;w&#39;) as f:
    json.dump(json_dict, f, indent=4)
<br/><br/></pre></div>
</div>
</div>
</section>
<section id="3.-Compare-the-resulting-file-sizes">
<h2>3. Compare the resulting file sizes<a class="headerlink" href="#3.-Compare-the-resulting-file-sizes" title="Permalink to this heading">#</a></h2>
<p>Different file formats can vary significantly in storage efficiency. In this step, we compare the size of each serialized file to highlight how format choice affects disk usage—especially important for large datasets or when sharing data online.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>formats = [&#39;.parquet&#39;, &#39;.csv&#39;, &#39;.txt&#39;,  &#39;.h5&#39;, &#39;.json&#39;]
for ext in formats:
    path = file_name.replace(&#39;.csv&#39;, ext)
    size_kb = os.path.getsize(path) / 1024
    print(f&#39;{ext.upper():&gt;8}: {size_kb:.1f} KB&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
.PARQUET: 255.2 KB
    .CSV: 689.0 KB
    .TXT: 689.0 KB
     .H5: 929.0 KB
   .JSON: 1698.6 KB
</pre></div></div>
</div>
<p>This comparison shows that the <code class="docutils literal notranslate"><span class="pre">.parquet</span></code> format produces the <strong>smallest file size</strong>—in this case, <strong>less than half the size</strong> of the original <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file. Text-based formats like <code class="docutils literal notranslate"><span class="pre">.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">.txt</span></code> are similar in size, since they both store uncompressed, human-readable data.</p>
<p>Interestingly, <code class="docutils literal notranslate"><span class="pre">.h5</span></code> (HDF5) and <code class="docutils literal notranslate"><span class="pre">.json</span></code> result in <strong>significantly larger files</strong>, even though they contain the same DataFrame without additional metadata. This is due to differences in how each format encodes data internally. HDF5 includes structural overhead for hierarchical data storage, while JSON is a verbose text format with redundant field names.</p>
<p>Parquet, by contrast, uses efficient binary encoding and compresses data by default—making it ideal for compact storage of structured tables.</p>
</section>
<section id="4.-Demonstrate-and-Compare-Load-Times-Across-Formats">
<h2>4. Demonstrate and Compare Load Times Across Formats<a class="headerlink" href="#4.-Demonstrate-and-Compare-Load-Times-Across-Formats" title="Permalink to this heading">#</a></h2>
<p>To ensure that the data remains accessible and usable across tools, we show how to load each of the exported formats using standard Python libraries. This demonstrates the practical value of using open formats—data can be read reliably without relying on vendor-specific software.</p>
<p>In addition to demonstrating how each format can be loaded, we also <strong>benchmark and compare the load times</strong> to highlight the performance trade-offs between different open formats. This helps inform decisions about which format to use depending on the size of the dataset, speed requirements, and tool compatibility.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import pandas as pd
import timeit

# Define loaders as lambdas
loaders = {
    &quot;CSV&quot;: lambda: pd.read_csv(file_name),
    &quot;TXT&quot;: lambda: pd.read_csv(txt_path, sep=&quot;\t&quot;),
    &quot;PARQUET&quot;: lambda: pd.read_parquet(parquet_path),
    &quot;HDF5&quot;: lambda: pd.read_hdf(hdf5_path, key=&#39;battery_data&#39;),
    &quot;JSON&quot;: lambda: pd.read_json(json_path)
}

# Benchmark each loader over multiple runs
read_times = {}
N = 10  # number of trials

for fmt, loader in loaders.items():
    t = timeit.timeit(loader, number=N)
    read_times[fmt] = t / N  # average time per run

# Sort and display
print(f&quot;Average File Read Time over {N} runs (seconds):&quot;)
for fmt, t in sorted(read_times.items(), key=lambda x: x[1]):
    print(f&quot;{fmt:8}: {t:.4f} s&quot;)
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Average File Read Time over 10 runs (seconds):
TXT     : 0.0122 s
CSV     : 0.0158 s
HDF5    : 0.0179 s
JSON    : 0.0254 s
PARQUET : 0.1037 s
</pre></div></div>
</div>
</section>
<section id="Summary">
<h2>Summary<a class="headerlink" href="#Summary" title="Permalink to this heading">#</a></h2>
<p>In this notebook, you learned how to satisfy the requirements for <strong>3-star battery data</strong> by converting a structured dataset into multiple <strong>open, machine-readable formats</strong>.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Step</p></th>
<th class="head"><p>What You Did</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Start with structured data</p></td>
<td><p>Used the BDF-aligned dataset created in the 2-star notebook</p></td>
</tr>
<tr class="row-odd"><td><p>Serialize to formats</p></td>
<td><p>Saved the data as <code class="docutils literal notranslate"><span class="pre">.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">.json</span></code>, <code class="docutils literal notranslate"><span class="pre">.parquet</span></code>, and <code class="docutils literal notranslate"><span class="pre">.hdf5</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Compare file sizes</p></td>
<td><p>Observed trade-offs between human-readability and compression efficiency</p></td>
</tr>
<tr class="row-odd"><td><p>Load in Python</p></td>
<td><p>Demonstrated how to re-import each format using standard Python libraries</p></td>
</tr>
</tbody>
</table>
<p>By following this workflow, your dataset is now:</p>
<ul class="simple">
<li><p>Available in <strong>open, non-proprietary formats</strong></p></li>
<li><p>Easily parsed by tools and programming languages</p></li>
<li><p>Ready for long-term reuse and platform-independent sharing</p></li>
</ul>
<p>This sets the stage for <strong>semantic metadata (4-star)</strong> and <strong>linked data integration (5-star)</strong>.</p>
<hr class="docutils" />
<p><img alt="EU Flag" class="no-scaled-link" src="https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg" width="100" /></p>
<div class="line-block">
<div class="line"><strong>This work has received funding from the European Union under the Horizon Europe programme.</strong></div>
<div class="line">Views and opinions expressed are however those of the author(s) only and do not necessarily reflect those of the European Union or the European Commission. Neither the European Union nor the granting authority can be held responsible for them.</div>
</div>
</section>
</section>


                </article>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-does-three-star-mean?">What does three-star mean?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Watch">Watch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Why-is-this-important?">Why is this important?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-is-an-open-data-format?">What is an open data format?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-we-will-do">What we will do</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#1.-Read-the-raw-cycler-data">1. Read the raw cycler data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.-Serialize-the-data-into-multiple-open,-machine-readable-formats">2. Serialize the data into multiple open, machine-readable formats</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#3.-Compare-the-resulting-file-sizes">3. Compare the resulting file sizes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#4.-Demonstrate-and-Compare-Load-Times-Across-Formats">4. Demonstrate and Compare Load Times Across Formats</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Summary">Summary</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/star-3/star-3-notebook.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2021-2023.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>