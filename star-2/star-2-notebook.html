

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>★★ 2-Star Battery Data &#8212; ★★★★★ Battery Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'star-2/star-2-notebook';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="★★★ Three-Star Battery Data" href="../star-3/star-3-notebook.html" />
    <link rel="prev" title="★ 1-Star Battery Data" href="../star-1/star-1-notebook.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the course..."
         aria-label="Search the course..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">★★★★★ Battery Data</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../introduction/introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../discussion/discussion.html">
                        Discussion
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../quiz/quiz.html">
                        Quiz: Five-Star Battery Data
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../introduction/introduction.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../discussion/discussion.html">
                        Discussion
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../quiz/quiz.html">
                        Quiz: Five-Star Battery Data
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the course..."
         aria-label="Search the course..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../introduction/introduction.html" class="nav-link">Introduction</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">★★ 2-Star Battery Data</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="★★-2-Star-Battery-Data">
<h1>★★ 2-Star Battery Data<a class="headerlink" href="#★★-2-Star-Battery-Data" title="Permalink to this heading">#</a></h1>
<p>This notebook demonstrates how to process raw battery cycler data into a <strong>structured, machine-readable tabular format</strong>. This corresponds to the <strong>second star</strong> in the Five-Star Battery Data framework.</p>
<hr class="docutils" />
<section id="What-does-two-star-mean?">
<h2>What does two-star mean?<a class="headerlink" href="#What-does-two-star-mean?" title="Permalink to this heading">#</a></h2>
<p>In the 5-Star Battery Data framework, 2-star data is:</p>
<ul class="simple">
<li><p><strong>Structured</strong> — each row represents one observation, and each column represents one variable.</p></li>
<li><p><strong>Machine-readable</strong> — stored in formats like CSV or Parquet that software tools can easily parse.</p></li>
<li><p><strong>Clearly labeled</strong> — with SI-compliant names and units (e.g., <code class="docutils literal notranslate"><span class="pre">Voltage</span> <span class="pre">/</span> <span class="pre">V</span></code>, not <code class="docutils literal notranslate"><span class="pre">Voltage</span> <span class="pre">(V)</span></code>).</p></li>
<li><p><strong>Standardized</strong> — follows community conventions such as the <strong>Battery Data Format (BDF)</strong>.</p></li>
</ul>
<p>This notebook helps you transform messy or proprietary outputs into <strong>clean, standardized tables</strong> that are ready for analysis, publication, and reuse.</p>
</section>
</section>
<hr class="docutils" />
<section id="Watch">
<h1>Watch<a class="headerlink" href="#Watch" title="Permalink to this heading">#</a></h1>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%;"><iframe src="https://www.youtube.com/embed/_z6Xtbx8QwM" title="Star 2: Structured Data" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div><hr class="docutils" />
<section id="Why-is-this-important?">
<h2>Why is this important?<a class="headerlink" href="#Why-is-this-important?" title="Permalink to this heading">#</a></h2>
<p>Raw battery data is often inconsistent or difficult to process, which hinders reuse. By transforming it into a standardized, structured table:</p>
<ul class="simple">
<li><p>It becomes easier to <strong>index, search, filter, and visualize</strong>.</p></li>
<li><p>It can be reliably used by <strong>humans and machines</strong> alike.</p></li>
<li><p>It aligns with <strong>FAIR data principles</strong> and sets the stage for semantic enrichment in 3-star and 4-star datasets.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="What-we-will-do">
<h2>What we will do<a class="headerlink" href="#What-we-will-do" title="Permalink to this heading">#</a></h2>
<p>In this notebook, we will:</p>
<ol class="arabic simple">
<li><p><strong>Read</strong> the raw cycler data file</p></li>
<li><p><strong>Process</strong> it to align with the BDF standard by:</p>
<ul class="simple">
<li><p>Renaming columns using consistent, SI-style labels</p></li>
<li><p>Converting timestamps to UNIX time</p></li>
<li><p>Ensuring consistent units</p></li>
</ul>
</li>
<li><p><strong>Visualize</strong> the cleaned time-series data</p></li>
<li><p><strong>Serialize</strong> it to a BDF-compliant CSV format</p></li>
</ol>
<p>This is an essential step toward making your data FAIR and ready for semantic annotation in the next stars.</p>
<hr class="docutils" />
</section>
</section>
<section id="1.-Read-the-cycler-data-file">
<h1>1. Read the cycler data file<a class="headerlink" href="#1.-Read-the-cycler-data-file" title="Permalink to this heading">#</a></h1>
<p>In this step, we read the csv data file that has been exported from the cycler into a pandas dataframe and explore its content.</p>
<blockquote>
<div><p><strong>ℹ️ Note on file formats</strong></p>
<p>Cycler hardware often exports data files in a proprietary binary format. It is important for broader usability that this is converted into an open data format (e.g. csv, txt, parquet, etc.) as soon as possible to avoid proprietary software dependencies.</p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Import python package dependencies
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import pytz

# Load raw data from the parent directory
file_name = &#39;raw_data_output_from_cycler.csv&#39;
raw_data = pd.read_csv(file_name)
raw_data.head()
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DataPoint</th>
      <th>Cycle Index</th>
      <th>Step Index</th>
      <th>Step Type</th>
      <th>Time(s)</th>
      <th>Total Time(s)</th>
      <th>Current(A)</th>
      <th>Voltage(V)</th>
      <th>Capacity(Ah)</th>
      <th>Spec. Cap.(mAh/g)</th>
      <th>...</th>
      <th>Contact resistance(mO)</th>
      <th>Module start-stop switch</th>
      <th>SOC/DOD(%)</th>
      <th>LgD</th>
      <th>V1(V)</th>
      <th>V2(V)</th>
      <th>V3(V)</th>
      <th>T1(?)</th>
      <th>T2(?)</th>
      <th>T3(?)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>Rest</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>Close</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0002</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Rest</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>Close</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0002</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>Rest</td>
      <td>10.00</td>
      <td>10.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>Close</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0003</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Rest</td>
      <td>20.00</td>
      <td>20.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>Close</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0002</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>Rest</td>
      <td>30.00</td>
      <td>30.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>Close</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0002</td>
      <td>26.0</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 34 columns</p>
</div></div>
</div>
<p>The raw data contains 34 columns, corresponding to a variety of properties. We will now process it into a community standard format to support broader re-use and interoperability.</p>
</section>
<section id="Process-the-data-to-align-with-the-BDF-standard">
<h1>Process the data to align with the BDF standard<a class="headerlink" href="#Process-the-data-to-align-with-the-BDF-standard" title="Permalink to this heading">#</a></h1>
<p>The <strong>Battery Data Format (BDF)</strong> is an open community standard for structuring battery test data in a clear, consistent, and machine-readable way. It defines how to name fields, express units, and organize data so it can be reliably processed, interpreted, and shared across research and industry. By aligning with BDF, we ensure this dataset is easy to work with using both automated tools and human-readable analysis.</p>
<p>The raw data contains many quantities that are redundant or can be derived from other fundamental quantities. For BDF conversion, we take only the core subset of measured quantities. It is important to balance the need for archiving complete information with the desire to reduce file size by removing redundant quantities. The BDF defines a minimum set of required quantities, along with a broader set of recommended and optional quantities. It is up to the data curator to determine how much detail
is necessary.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Original Label</p></th>
<th class="head"><p>BDF Preferred Label</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Total Time(s)</p></td>
<td><p>Test Time / s</p></td>
<td><p>Elapsed time since the start of the test, recorded in millisecond.</p></td>
</tr>
<tr class="row-odd"><td><p>Voltage(V)</p></td>
<td><p>Voltage / V</p></td>
<td><p>Instantaneous voltage measured across the test object, in volt.</p></td>
</tr>
<tr class="row-even"><td><p>Current(A)</p></td>
<td><p>Current / A</p></td>
<td><p>Instantaneous current applied to or from the test object, in ampere.</p></td>
</tr>
<tr class="row-odd"><td><p>– (generated)</p></td>
<td><p>Unix Time / s</p></td>
<td><p>Timestamp of the measurement in Unix time (second since epoch).</p></td>
</tr>
<tr class="row-even"><td><p>– (generated)</p></td>
<td><p>Step Count / 1</p></td>
<td><p>Sequential index of the current step in the test program, increasing monotonically.</p></td>
</tr>
<tr class="row-odd"><td><p>T1(?)</p></td>
<td><p>Temperature 1 / °C</p></td>
<td><p>Measured temperature at sensor 1 on the test object, in degree Celsius.</p></td>
</tr>
<tr class="row-even"><td><p>T2(?)</p></td>
<td><p>Temperature 2 / °C</p></td>
<td><p>Measured temperature at sensor 2 on the test object, in degree Celsius.</p></td>
</tr>
<tr class="row-odd"><td><p>T3(?)</p></td>
<td><p>Temperature 3 / °C</p></td>
<td><p>Measured temperature at sensor 3 on the test object, in degree Celsius.</p></td>
</tr>
</tbody>
</table>
<p>Now we will process the data from the raw file to align with BDF recommendations. More information on the BDF is available <a class="reference external" href="https://github.com/battery-data-alliance/battery-data-format">here</a>.</p>
<blockquote>
<div><p><strong>ℹ️ Unit notation</strong></p>
<p>The use of a forward slash (<code class="docutils literal notranslate"><span class="pre">/</span></code>) to separate the variable name from the unit (e.g., <code class="docutils literal notranslate"><span class="pre">Voltage</span> <span class="pre">/</span> <span class="pre">V</span></code>) follows recommendations from the <strong>International System of Units (SI)</strong> and <strong>IUPAC</strong>. This style reflects the <strong>algebraic nature of physical quantities</strong>, where each variable is the product of a numeric value and a unit. It improves clarity, avoids ambiguity in composite units, and aligns with standard scientific conventions in data labeling and dimensional analysis.</p>
</div></blockquote>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Extract total test time
test_time_s = np.maximum.accumulate(raw_data[&#39;Total Time(s)&#39;])

# Extract temperatures
temperature_1 = raw_data[&#39;T1(?)&#39;] if &#39;T1(?)&#39; in raw_data else np.nan
temperature_2 = raw_data[&#39;T2(?)&#39;] if &#39;T2(?)&#39; in raw_data else np.nan
temperature_3 = raw_data[&#39;T3(?)&#39;] if &#39;T3(?)&#39; in raw_data else np.nan
<br/></pre></div>
</div>
</div>
<blockquote>
<div><p><strong>ℹ️ Unix time</strong></p>
<p><strong>Unix time</strong> (also called <em>epoch time</em> or <em>POSIX time</em>) is a widely used standard for representing points in time. It counts the duration that has elapsed since <strong>00:00:00 UTC on January 1, 1970</strong>. Using Unix time makes it easy to sort, compare, and align timestamps across different systems and time zones, making it ideal for machine-readable datasets and time-series analysis.</p>
</div></blockquote>
<p>In the following block, we parse the string with the time-stamp to convert it to Unix time. The experiment was conducted in the CET timezone, which is first converted to UTC and then to Unix time.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Define CET (standard time only — no daylight savings)
cet = pytz.timezone(&#39;CET&#39;)  # Assumes winter time only (UTC+1, no DST correction)

# Parse and localize &#39;Date&#39; to CET, then convert to UTC
df_datetime = pd.to_datetime(raw_data[&#39;Date&#39;], format=&#39;%Y-%m-%d %H:%M:%S&#39;)
df_datetime = df_datetime.dt.tz_localize(cet).dt.tz_convert(&#39;UTC&#39;)

# Convert to Unix time in seconds
unix_time_s = df_datetime.astype(&#39;int64&#39;) / 1e9
</pre></div>
</div>
</div>
<p>Finally, the converted data with BDF compliant headers is compiled into a new dataframe.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Assemble the BDF-compliant DataFrame
bdf_data = pd.DataFrame({
    &#39;Test Time / s&#39;: test_time_s,
    &#39;Current / A&#39;: raw_data[&#39;Current(A)&#39;],
    &#39;Voltage / V&#39;: raw_data[&#39;Voltage(V)&#39;],
    &#39;Unix Time / s&#39;: unix_time_s,
    &#39;Step Count / 1&#39;: raw_data[&#39;Step Index&#39;],
    &#39;Temperature 1 / °C&#39;: temperature_1,
    &#39;Temperature 2 / °C&#39;: temperature_2,
    &#39;Temperature 3 / °C&#39;: temperature_3
})
</pre></div>
</div>
</div>
</section>
<section id="3.-Visualize-the-data">
<h1>3. Visualize the data<a class="headerlink" href="#3.-Visualize-the-data" title="Permalink to this heading">#</a></h1>
<p>To verify data quality and provide insight into the test process, we visualize key quantities such as voltage, current, and temperature over time.</p>
<p>These plots help:</p>
<ul class="simple">
<li><p>Detect anomalies or noise in the raw signal</p></li>
<li><p>Understand test conditions and dynamics</p></li>
<li><p>Confirm that the data has been correctly aligned and serialized</p></li>
</ul>
<p>This step is especially important before sharing or analyzing the dataset further.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Plot Voltage, Current, and all Temperatures vs Total Time in one figure
time_h = bdf_data[&#39;Test Time / s&#39;] / 3600

plt.figure(figsize=(12, 8))

# Voltage
plt.subplot(3, 1, 1)
plt.plot(time_h, bdf_data[&#39;Voltage / V&#39;], label=&#39;Voltage / V&#39;, color=&#39;blue&#39;)
plt.ylabel(&#39;Voltage / V&#39;)
plt.title(&#39;Voltage vs Total Time&#39;)
plt.grid(True)

# Current
plt.subplot(3, 1, 2)
plt.plot(time_h, bdf_data[&#39;Current / A&#39;], label=&#39;Current / A&#39;, color=&#39;orange&#39;)
plt.ylabel(&#39;Current / A&#39;)
plt.title(&#39;Current vs Total Time&#39;)
plt.grid(True)

# Temperatures (1, 2, 3)
plt.subplot(3, 1, 3)
plt.plot(time_h, bdf_data[&#39;Temperature 1 / °C&#39;], label=&#39;Temperature 1 / °C&#39;, color=&#39;green&#39;)
plt.plot(time_h, bdf_data[&#39;Temperature 2 / °C&#39;], label=&#39;Temperature 2 / °C&#39;, color=&#39;red&#39;)
plt.plot(time_h, bdf_data[&#39;Temperature 3 / °C&#39;], label=&#39;Temperature 3 / °C&#39;, color=&#39;purple&#39;)
plt.xlabel(&#39;Total Time / h&#39;)
plt.ylabel(&#39;Temperature / °C&#39;)
plt.title(&#39;Temperatures vs Total Time&#39;)
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/star-2_star-2-notebook_11_0.png" src="../_images/star-2_star-2-notebook_11_0.png" />
</div>
</div>
</section>
<section id="Serialize-the-cleaned-data-to-a-BDF-compliant-CSV">
<h1>Serialize the cleaned data to a BDF-compliant CSV<a class="headerlink" href="#Serialize-the-cleaned-data-to-a-BDF-compliant-CSV" title="Permalink to this heading">#</a></h1>
<p>The final step is to serialize the structured data into a <strong>CSV file</strong> that complies with the <a class="reference external" href="https://github.com/battery-data-alliance/battery-data-format">BDF</a> standard.</p>
<p>This means:</p>
<ul class="simple">
<li><p>The file uses <strong>BDF preferred column labels</strong></p></li>
<li><p>The <strong>units adhere to BDF recommendations</strong></p></li>
<li><p>All values are <strong>machine-readable</strong> and <strong>unambiguously defined</strong></p></li>
</ul>
<p>The output file can now be indexed, visualized, or combined with metadata and shared as part of a reproducible dataset.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>structured_battery_data.bdf.csv
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Save to CSV or display preview
bdf_data.to_csv(&quot;structured_battery_data.bdf.csv&quot;, index=False)
bdf_data.head()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Test Time / s</th>
      <th>Current / A</th>
      <th>Voltage / V</th>
      <th>Unix Time / s</th>
      <th>Step Count / 1</th>
      <th>Temperature 1 / °C</th>
      <th>Temperature 2 / °C</th>
      <th>Temperature 3 / °C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.01</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.2</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>30.00</td>
      <td>0.0</td>
      <td>3.8022</td>
      <td>1.729688e+09</td>
      <td>1</td>
      <td>26.0</td>
      <td>26.2</td>
      <td>26.4</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Summary">
<h1>Summary<a class="headerlink" href="#Summary" title="Permalink to this heading">#</a></h1>
<p>In this notebook, you learned how to transform raw battery cycler output into a clean, structured, and machine-readable dataset that meets the <strong>2-star criteria</strong> in the Five-Star Battery Data framework.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Step</p></th>
<th class="head"><p>What You Did</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Load raw data</p></td>
<td><p>Imported time-series data from a cycler-generated <code class="docutils literal notranslate"><span class="pre">.csv</span></code> or similar file</p></td>
</tr>
<tr class="row-odd"><td><p>Clean &amp; transform</p></td>
<td><p>Renamed fields, standardized units, and computed missing information</p></td>
</tr>
<tr class="row-even"><td><p>Align with BDF</p></td>
<td><p>Applied best practices from the Battery Data Format, including column naming</p></td>
</tr>
<tr class="row-odd"><td><p>Generate timestamps</p></td>
<td><p>Converted human-readable dates to Unix time in seconds (UTC)</p></td>
</tr>
<tr class="row-even"><td><p>Visualize data</p></td>
<td><p>Plotted voltage, current, and temperature to assess data integrity</p></td>
</tr>
<tr class="row-odd"><td><p>Export cleaned dataset</p></td>
<td><p>Serialized the result into a structured <code class="docutils literal notranslate"><span class="pre">.csv</span></code> following BDF conventions</p></td>
</tr>
</tbody>
</table>
<p>By following this workflow, your dataset is now:</p>
<ul class="simple">
<li><p><strong>Structured and machine-readable</strong></p></li>
<li><p><strong>Consistently labeled using SI and community standards</strong></p></li>
<li><p><strong>Ready for analysis, semantic metadata, and publication</strong></p></li>
</ul>
<p>This notebook gives you a practical and reusable pattern for preparing battery test data that can be confidently shared, understood, and reused by others.</p>
<hr class="docutils" />
<p><img alt="EU Flag" class="no-scaled-link" src="https://upload.wikimedia.org/wikipedia/commons/b/b7/Flag_of_Europe.svg" width="100" /></p>
<div class="line-block">
<div class="line"><strong>This work has received funding from the European Union under the Horizon Europe programme.</strong></div>
<div class="line">Views and opinions expressed are however those of the author(s) only and do not necessarily reflect those of the European Union or the European Commission. Neither the European Union nor the granting authority can be held responsible for them.</div>
</div>
</section>


                </article>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">★★ 2-Star Battery Data</a><ul class="nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-does-two-star-mean?">What does two-star mean?</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#Watch">Watch</a><ul class="nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Why-is-this-important?">Why is this important?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-we-will-do">What we will do</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#1.-Read-the-cycler-data-file">1. Read the cycler data file</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#Process-the-data-to-align-with-the-BDF-standard">Process the data to align with the BDF standard</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#3.-Visualize-the-data">3. Visualize the data</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#Serialize-the-cleaned-data-to-a-BDF-compliant-CSV">Serialize the cleaned data to a BDF-compliant CSV</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#Summary">Summary</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/star-2/star-2-notebook.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2021-2023.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>